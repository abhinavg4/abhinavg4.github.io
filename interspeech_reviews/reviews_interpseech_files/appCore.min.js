var app=window.app||{};!function(t){"use strict";t.settings={},t.settings.pageSize=50,t.settings.progressIndicatorId="progressIndicator",t.settings.progressIndicatorTimeout=100,t.settings.messagesBlockId="messages",t.settings.messagesShowTime=3e3,t.settings.stackMessages=!0,t.settings.autoSaveDelay=6e4,t.settings.queryProgressDelay=3e3,t.settings.submissionWelcomeInstructionChars=1e4,t.settings.reviewWelcomeInstructionChars=4e3,t.settings.metaReviewWelcomeInstructionChars=4e3}(window.app),function(r){"use strict";RegExp.escape=function(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},String.prototype.format=function(t){function e(t,e){t=new RegExp(RegExp.escape("{"+t+"}"),"g"),n=n.replace(t,e)}var n=this;return r.isArray(t)||r.isPlainObject(t)?r.each(t,e):r.each(arguments,e),n},String.prototype.htmlEncode=function(){return document.createElement("a").appendChild(document.createTextNode(this)).parentNode.innerHTML},String.prototype.htmlMultiLineEncode=function(){return this.htmlEncode().replace(/\r\n|\r|\n/g,"<br/>")},String.prototype.htmlMultiLine=function(){return this.replace(/\r\n|\r|\n/g,"<br/>")},String.prototype.zeroPadding=function(t){for(var e="",n=0;n<t-this.length;n++)e+="0";return e+this},Date.prototype.format=function(t){var e=this;return t.replace(/(yyyy|mm|dd|hh|nn|ss|fff)/g,function(t){switch(t.toLowerCase()){case"yyyy":return e.getFullYear();case"mm":return(e.getMonth()+1).toString().zeroPadding(2);case"dd":return e.getDate().toString().zeroPadding(2);case"hh":return e.getHours().toString().zeroPadding(2);case"nn":return e.getMinutes().toString().zeroPadding(2);case"ss":return e.getSeconds().toString().zeroPadding(2);case"fff":return e.getMilliseconds().toString().zeroPadding(3)}})},Boolean.prototype.toYesNo=function(){return this?"Yes":"No"},Number.prototype.formatSize=function(){var t=this;return 1<=(t/1073741824).toFixed(1)?e(t/1073741824)+" Gb":1<=(t/1048576).toFixed(1)?e(t/1048576)+" Mb":1<=(t/1024).toFixed(1)?e(t/1024)+" Kb":t+" byte"+(1<t?"s":"");function e(t){return".0"==(t=t.toFixed(1)).substr(t.length-2)?t.substr(0,t.length-2):t}},Array.prototype.remove=function(t){for(var e=0;e<this.length;e++)this[e]===t&&(this.splice(e,1),e--);return this}}(window.jQuery),function(r,i,t){"use strict";var e=r('ul.nav > li > a[href^="'+i.pathname+'"]');function s(t){t.parent().addClass("active")}0<e.length?s(e):r.each(r("ul.nav > li > a[href]"),function(){var t=r(this),e=t.attr("href").split(/\{\d+\}/),n="";r.each(e,function(){n+=RegExp.escape(this)+".+"}),n="^"+n.substr(0,n.length-2)+"$",new RegExp(n).test(i.pathname)&&s(t)}),t.highlightMenu=function(t){s(r('ul.nav > li > a[href*="'+t+'"]'))}}(window.jQuery,window.location,window.app);